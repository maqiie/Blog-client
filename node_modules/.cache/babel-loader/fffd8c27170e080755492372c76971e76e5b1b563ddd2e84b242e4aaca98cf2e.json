{"ast":null,"code":"// import React, { useState, useEffect } from \"react\";\n// import Dropzone from \"react-dropzone\";\n// import axios from \"axios\";\n// import \"./createpost.css\";\n\n// const CreatePost = () => {\n//   const [title, setTitle] = useState(\"\");\n//   const [content, setContent] = useState(\"\");\n//   const [category, setCategory] = useState(\"\");\n//   const [categories, setCategories] = useState([]);\n//   const [images, setImages] = useState([]);\n\n//   useEffect(() => {\n//     // Fetch categories from the backend and set them to the state\n//     axios\n//       .get(\"http://localhost:3001/categories\")\n//       .then((response) => {\n//         setCategories(response.data);\n//       })\n//       .catch((error) => {\n//         console.error(\"Error fetching categories:\", error);\n//       });\n//   }, []);\n\n//   const handleImageDrop = (acceptedFiles) => {\n//     setImages(acceptedFiles);\n//   };\n\n//   const handleSubmit = async (event) => {\n//     event.preventDefault();\n\n//     const formData = new FormData();\n//     formData.append(\"title\", title);\n//     formData.append(\"content\", content);\n//     formData.append(\"category\", category);\n//     images.forEach((image) => formData.append(\"images[]\", image));\n\n//     try {\n//       const response = await axios.post(\n//         \"http://localhost:3001/posts\",\n//         formData\n//       );\n//       console.log(\"Post created:\", response.data);\n//       // Reset form fields\n//       setTitle(\"\");\n//       setContent(\"\");\n//       setCategory(\"\");\n//       setImages([]);\n//     } catch (error) {\n//       console.error(\"Error creating post:\", error);\n//     }\n//   };\n\n//   return (\n//     <div className=\"create-post\">\n//       <h2>Create a New Post</h2>\n//       <form onSubmit={handleSubmit}>\n//         <input\n//           type=\"text\"\n//           placeholder=\"Title\"\n//           value={title}\n//           onChange={(e) => setTitle(e.target.value)}\n//           required\n//         />\n//         <textarea\n//           placeholder=\"Content\"\n//           value={content}\n//           onChange={(e) => setContent(e.target.value)}\n//           required\n//         />\n//         <select\n//           value={category}\n//           onChange={(e) => setCategory(e.target.value)}\n//           required\n//         >\n//           <option value=\"\" disabled>\n//             Select a category\n//           </option>\n//           {categories.map((category) => (\n//             <option key={category.id} value={category.id}>\n//               {category.name}\n//             </option>\n//           ))}\n//         </select>\n//         <Dropzone onDrop={handleImageDrop}>\n//           {({ getRootProps, getInputProps }) => (\n//             <div className=\"dropzone\" {...getRootProps()}>\n//               <input {...getInputProps()} />\n//               <p>Drag & drop images or click here to select files</p>\n//             </div>\n//           )}\n//         </Dropzone>\n//         <br></br>\n//         <button class=\"fancy\" href=\"#\">\n//           <span class=\"top-key\"></span>\n//           <span class=\"text\">Create Post</span>\n//           <span class=\"bottom-key-1\"></span>\n//           <span class=\"bottom-key-2\"></span>\n//         </button>\n//       </form>\n//     </div>\n//   );\n// };\n\n// export default CreatePost;","map":{"version":3,"names":[],"sources":["/home/markpaul/projects/Blog/client/src/components/createpost/createpost.js"],"sourcesContent":["// import React, { useState, useEffect } from \"react\";\n// import Dropzone from \"react-dropzone\";\n// import axios from \"axios\";\n// import \"./createpost.css\";\n\n// const CreatePost = () => {\n//   const [title, setTitle] = useState(\"\");\n//   const [content, setContent] = useState(\"\");\n//   const [category, setCategory] = useState(\"\");\n//   const [categories, setCategories] = useState([]);\n//   const [images, setImages] = useState([]);\n\n//   useEffect(() => {\n//     // Fetch categories from the backend and set them to the state\n//     axios\n//       .get(\"http://localhost:3001/categories\")\n//       .then((response) => {\n//         setCategories(response.data);\n//       })\n//       .catch((error) => {\n//         console.error(\"Error fetching categories:\", error);\n//       });\n//   }, []);\n\n//   const handleImageDrop = (acceptedFiles) => {\n//     setImages(acceptedFiles);\n//   };\n\n//   const handleSubmit = async (event) => {\n//     event.preventDefault();\n\n//     const formData = new FormData();\n//     formData.append(\"title\", title);\n//     formData.append(\"content\", content);\n//     formData.append(\"category\", category);\n//     images.forEach((image) => formData.append(\"images[]\", image));\n\n//     try {\n//       const response = await axios.post(\n//         \"http://localhost:3001/posts\",\n//         formData\n//       );\n//       console.log(\"Post created:\", response.data);\n//       // Reset form fields\n//       setTitle(\"\");\n//       setContent(\"\");\n//       setCategory(\"\");\n//       setImages([]);\n//     } catch (error) {\n//       console.error(\"Error creating post:\", error);\n//     }\n//   };\n\n//   return (\n//     <div className=\"create-post\">\n//       <h2>Create a New Post</h2>\n//       <form onSubmit={handleSubmit}>\n//         <input\n//           type=\"text\"\n//           placeholder=\"Title\"\n//           value={title}\n//           onChange={(e) => setTitle(e.target.value)}\n//           required\n//         />\n//         <textarea\n//           placeholder=\"Content\"\n//           value={content}\n//           onChange={(e) => setContent(e.target.value)}\n//           required\n//         />\n//         <select\n//           value={category}\n//           onChange={(e) => setCategory(e.target.value)}\n//           required\n//         >\n//           <option value=\"\" disabled>\n//             Select a category\n//           </option>\n//           {categories.map((category) => (\n//             <option key={category.id} value={category.id}>\n//               {category.name}\n//             </option>\n//           ))}\n//         </select>\n//         <Dropzone onDrop={handleImageDrop}>\n//           {({ getRootProps, getInputProps }) => (\n//             <div className=\"dropzone\" {...getRootProps()}>\n//               <input {...getInputProps()} />\n//               <p>Drag & drop images or click here to select files</p>\n//             </div>\n//           )}\n//         </Dropzone>\n//         <br></br>\n//         <button class=\"fancy\" href=\"#\">\n//           <span class=\"top-key\"></span>\n//           <span class=\"text\">Create Post</span>\n//           <span class=\"bottom-key-1\"></span>\n//           <span class=\"bottom-key-2\"></span>\n//         </button>\n//       </form>\n//     </div>\n//   );\n// };\n\n// export default CreatePost;\n"],"mappings":"AAAA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA"},"metadata":{},"sourceType":"module","externalDependencies":[]}